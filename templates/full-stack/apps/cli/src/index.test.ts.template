import { describe, expect, test } from "bun:test";
import { createContext } from "@outfitter/contracts";
import { createGreeting } from "{{packageName}}-core";

describe("cli surface", () => {
	test("can use shared core handler", async () => {
		const result = await createGreeting(
			{ name: "CLI", excited: true },
			createContext({ cwd: process.cwd(), env: process.env })
		);

		expect(result.isOk()).toBe(true);
		if (result.isErr()) {
			return;
		}
		expect(result.value.message).toBe("Hello, CLI!");
	});
});
